{
  "templateType": "CollectionContent",
  "template": [
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.blood_glucose' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /merged/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "blood_glucose_level",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          },
          {
            "valueName": "temporal_relation_to_meal",
            "valueExpression": {
              "value": "matchedToken.value[1].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'FIELD_TEMPORAL_RELATION_TO_MEAL_GENERAL'},{\"v\":@,\"n\":`2`,\"s\":'FIELD_TEMPORAL_RELATION_TO_MEAL_FASTING'},{\"v\":@,\"n\":`3`,\"s\":'FIELD_TEMPORAL_RELATION_TO_MEAL_BEFORE_MEAL'},{\"v\":@,\"n\":`4`,\"s\":'FIELD_TEMPORAL_RELATION_TO_MEAL_AFTER_MEAL'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "meal_type",
            "valueExpression": {
              "value": "matchedToken.value[2].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'MEAL_TYPE_UNKNOWN'},{\"v\":@,\"n\":`2`,\"s\":'MEAL_TYPE_BREAKFAST'},{\"v\":@,\"n\":`3`,\"s\":'MEAL_TYPE_LUNCH'},{\"v\":@,\"n\":`4`,\"s\":'MEAL_TYPE_DINNER'},{\"v\":@,\"n\":`5`,\"s\":'MEAL_TYPE_SNACK'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "temporal_relation_to_sleep",
            "valueExpression": {
              "value": "matchedToken.value[3].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'TEMPORAL_RELATION_TO_SLEEP_FULLY_AWAKE'},{\"v\":@,\"n\":`2`,\"s\":'TEMPORAL_RELATION_TO_SLEEP_BEFORE_SLEEP'},{\"v\":@,\"n\":`3`,\"s\":'TEMPORAL_RELATION_TO_SLEEP_ON_WAKING'},{\"v\":@,\"n\":`4`,\"s\":'TEMPORAL_RELATION_TO_SLEEP_DURING_SLEEP'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "blood_glucose_specimen_source",
            "valueExpression": {
              "value": "matchedToken.value[4].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'BLOOD_GLUCOSE_SPECIMEN_SOURCE_INTERSTITIAL_FLUID'},{\"v\":@,\"n\":`2`,\"s\":'BLOOD_GLUCOSE_SPECIMEN_SOURCE_CAPILLARY_BLOOD'},{\"v\":@,\"n\":`3`,\"s\":'BLOOD_GLUCOSE_SPECIMEN_SOURCE_PLASMA'},{\"v\":@,\"n\":`4`,\"s\":'BLOOD_GLUCOSE_SPECIMEN_SOURCE_SERUM'},{\"v\":@,\"n\":`5`,\"s\":'BLOOD_GLUCOSE_SPECIMEN_SOURCE_TEARS'},{\"v\":@,\"n\":`6`,\"s\":'BLOOD_GLUCOSE_SPECIMEN_SOURCE_WHOLE_BLOOD'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          }
        ],
        "typeName": "derived:com.google.blood_glucose:com.google.android.gms:merged"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.blood_pressure' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /merged/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "blood_pressure_systolic",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          },
          {
            "valueName": "blood_pressure_diastolic",
            "valueExpression": "matchedToken.value[1].fpVal",
            "required": true
          },
          {
            "valueName": "body_position",
            "valueExpression": {
              "value": "matchedToken.value[2].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'BODY_POSITION_STANDING'},{\"v\":@,\"n\":`2`,\"s\":'BODY_POSITION_SITTING'},{\"v\":@,\"n\":`3`,\"s\":'BODY_POSITION_LYING_DOWN'},{\"v\":@,\"n\":`4`,\"s\":'BODY_POSITION_SEMI_RECUMBENT'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "blood_pressure_measurement_location",
            "valueExpression": {
              "value": "matchedToken.value[3].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'BLOOD_PRESSURE_MEASUREMENT_LOCATION_LEFT_WRIST'},{\"v\":@,\"n\":`2`,\"s\":'BLOOD_PRESSURE_MEASUREMENT_LOCATION_RIGHT_WRIST'},{\"v\":@,\"n\":`3`,\"s\":'BLOOD_PRESSURE_MEASUREMENT_LOCATION_LEFT_UPPER_ARM'},{\"v\":@,\"n\":`4`,\"s\":'BLOOD_PRESSURE_MEASUREMENT_LOCATION_RIGHT_UPPER_ARM'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          }
        ],
        "typeName": "derived:com.google.blood_pressure:com.google.android.gms:merged"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.body.fat.percentage' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /merged/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "percentage",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.body.fat.percentage:com.google.android.gms:merged"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.body.fat.percentage' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.fitkit/ && $.Body.dataSourceId =~ /apple/ && $.Body.dataSourceId =~ /iphone/ && $.Body.dataSourceId =~ /local_data/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "percentage",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.body.fat.percentage:com.google.fitkit:apple:iphone:local_data"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.body.temperature' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /merged/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "body_temperature",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          },
          {
            "valueName": "body_temperature_measurement_location",
            "valueExpression": {
              "value": "matchedToken.value[1].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_AXILLARY'},{\"v\":@,\"n\":`2`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_FINGER'},{\"v\":@,\"n\":`3`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_FOREHEAD'},{\"v\":@,\"n\":`4`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_ORAL'},{\"v\":@,\"n\":`5`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_RECTAL'},{\"v\":@,\"n\":`6`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_TEMPORAL_ARTERY'},{\"v\":@,\"n\":`7`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_TOE'},{\"v\":@,\"n\":`8`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_TYMPANIC'},{\"v\":@,\"n\":`9`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_WRIST'},{\"v\":@,\"n\":`10`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_VAGINAL'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          }
        ],
        "typeName": "derived:com.google.body.temperature:com.google.android.gms:merged"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.heart_minutes' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /merge_heart_minutes/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "intensity",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.heart_minutes:com.google.android.gms:merge_heart_minutes"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.heart_minutes' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.ios.fit/ && $.Body.dataSourceId =~ /appleinc./ && $.Body.dataSourceId =~ /iphone/ && $.Body.dataSourceId =~ /top_level/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "intensity",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.heart_minutes:com.google.ios.fit:appleinc.:iphone:top_level"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.heart_minutes' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.ios.fit/ && $.Body.dataSourceId =~ /appleinc./ && $.Body.dataSourceId =~ /watch/ && $.Body.dataSourceId =~ /top_level/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "intensity",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.heart_minutes:com.google.ios.fit:appleinc.:watch:top_level"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.heart_rate.bpm' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /merge_heart_rate_bpm/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "bpm",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.heart_rate.bpm:com.google.android.gms:merge_heart_rate_bpm"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.heart_rate.bpm' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /resting_heart_rate<-merge_heart_rate_bpm/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "bpm",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.heart_rate.bpm:com.google.android.gms:resting_heart_rate<-merge_heart_rate_bpm"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.heart_rate.bpm' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.fitkit/ && $.Body.dataSourceId =~ /apple/ && $.Body.dataSourceId =~ /iphone/ && $.Body.dataSourceId =~ /local_data/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "bpm",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.heart_rate.bpm:com.google.fitkit:apple:iphone:local_data"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.heart_rate.bpm' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.fitkit/ && $.Body.dataSourceId =~ /apple/ && $.Body.dataSourceId =~ /iphone/ && $.Body.dataSourceId =~ /top_level/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "bpm",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.heart_rate.bpm:com.google.fitkit:apple:iphone:top_level"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.heart_rate.bpm' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.ios.fit/ && $.Body.dataSourceId =~ /appleinc./ && $.Body.dataSourceId =~ /watch/ && $.Body.dataSourceId =~ /top_level/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "bpm",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.heart_rate.bpm:com.google.ios.fit:appleinc.:watch:top_level"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.height' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /merge_height/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "height",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.height:com.google.android.gms:merge_height"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.height' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.fitkit/ && $.Body.dataSourceId =~ /apple/ && $.Body.dataSourceId =~ /iphone/ && $.Body.dataSourceId =~ /local_data/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "height",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.height:com.google.fitkit:apple:iphone:local_data"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.oxygen_saturation' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /merged/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "oxygen_saturation",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          },
          {
            "valueName": "supplemental_oxygen_flow_rate",
            "valueExpression": "matchedToken.value[1].fpVal",
            "required": true
          },
          {
            "valueName": "oxygen_therapy_administration_mode",
            "valueExpression": {
              "value": "matchedToken.value[2].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'OXYGEN_THERAPY_ADMINISTRATION_MODE_NASAL_CANULA'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "oxygen_saturation_system",
            "valueExpression": {
              "value": "matchedToken.value[3].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'OXYGEN_SATURATION_SYSTEM_PERIPHERAL_CAPILLARY'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "oxygen_saturation_measurement_method",
            "valueExpression": {
              "value": "matchedToken.value[4].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'OXYGEN_SATURATION_MEASUREMENT_METHOD_PULSE_OXIMETRY'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          }
        ],
        "typeName": "derived:com.google.oxygen_saturation:com.google.android.gms:merged"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.oxygen_saturation' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.fitkit/ && $.Body.dataSourceId =~ /apple/ && $.Body.dataSourceId =~ /iphone/ && $.Body.dataSourceId =~ /local_data/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "oxygen_saturation",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          },
          {
            "valueName": "supplemental_oxygen_flow_rate",
            "valueExpression": "matchedToken.value[1].fpVal",
            "required": true
          },
          {
            "valueName": "oxygen_therapy_administration_mode",
            "valueExpression": {
              "value": "matchedToken.value[2].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'OXYGEN_THERAPY_ADMINISTRATION_MODE_NASAL_CANULA'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "oxygen_saturation_system",
            "valueExpression": {
              "value": "matchedToken.value[3].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'OXYGEN_SATURATION_SYSTEM_PERIPHERAL_CAPILLARY'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "oxygen_saturation_measurement_method",
            "valueExpression": {
              "value": "matchedToken.value[4].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'OXYGEN_SATURATION_MEASUREMENT_METHOD_PULSE_OXIMETRY'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          }
        ],
        "typeName": "derived:com.google.oxygen_saturation:com.google.fitkit:apple:iphone:local_data"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.step_count.delta' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /estimated_steps/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "steps",
            "valueExpression": "matchedToken.value[0].intVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.step_count.delta:com.google.android.gms:estimated_steps"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.step_count.delta' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /merge_step_deltas/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "steps",
            "valueExpression": "matchedToken.value[0].intVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.step_count.delta:com.google.android.gms:merge_step_deltas"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.step_count.delta' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.ios.fit/ && $.Body.dataSourceId =~ /appleinc./ && $.Body.dataSourceId =~ /iphone/ && $.Body.dataSourceId =~ /top_level/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "steps",
            "valueExpression": "matchedToken.value[0].intVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.step_count.delta:com.google.ios.fit:appleinc.:iphone:top_level"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.step_count.delta' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.ios.fit/ && $.Body.dataSourceId =~ /appleinc./ && $.Body.dataSourceId =~ /watch/ && $.Body.dataSourceId =~ /top_level/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "steps",
            "valueExpression": "matchedToken.value[0].intVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.step_count.delta:com.google.ios.fit:appleinc.:watch:top_level"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.weight' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /merge_weight/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "weight",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.weight:com.google.android.gms:merge_weight"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.weight' && $.Body.dataSourceId =~ /derived/ && $.Body.dataSourceId =~ /com.google.fitkit/ && $.Body.dataSourceId =~ /apple/ && $.Body.dataSourceId =~ /iphone/ && $.Body.dataSourceId =~ /local_data/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "weight",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "derived:com.google.weight:com.google.fitkit:apple:iphone:local_data"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.blood_glucose' && $.Body.dataSourceId =~ /raw/ && $.Body.dataSourceId =~ /com.google.android.apps.fitness/ && $.Body.dataSourceId =~ /user_input/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "blood_glucose_level",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          },
          {
            "valueName": "temporal_relation_to_meal",
            "valueExpression": {
              "value": "matchedToken.value[1].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'FIELD_TEMPORAL_RELATION_TO_MEAL_GENERAL'},{\"v\":@,\"n\":`2`,\"s\":'FIELD_TEMPORAL_RELATION_TO_MEAL_FASTING'},{\"v\":@,\"n\":`3`,\"s\":'FIELD_TEMPORAL_RELATION_TO_MEAL_BEFORE_MEAL'},{\"v\":@,\"n\":`4`,\"s\":'FIELD_TEMPORAL_RELATION_TO_MEAL_AFTER_MEAL'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "meal_type",
            "valueExpression": {
              "value": "matchedToken.value[2].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'MEAL_TYPE_UNKNOWN'},{\"v\":@,\"n\":`2`,\"s\":'MEAL_TYPE_BREAKFAST'},{\"v\":@,\"n\":`3`,\"s\":'MEAL_TYPE_LUNCH'},{\"v\":@,\"n\":`4`,\"s\":'MEAL_TYPE_DINNER'},{\"v\":@,\"n\":`5`,\"s\":'MEAL_TYPE_SNACK'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "temporal_relation_to_sleep",
            "valueExpression": {
              "value": "matchedToken.value[3].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'TEMPORAL_RELATION_TO_SLEEP_FULLY_AWAKE'},{\"v\":@,\"n\":`2`,\"s\":'TEMPORAL_RELATION_TO_SLEEP_BEFORE_SLEEP'},{\"v\":@,\"n\":`3`,\"s\":'TEMPORAL_RELATION_TO_SLEEP_ON_WAKING'},{\"v\":@,\"n\":`4`,\"s\":'TEMPORAL_RELATION_TO_SLEEP_DURING_SLEEP'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "blood_glucose_specimen_source",
            "valueExpression": {
              "value": "matchedToken.value[4].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'BLOOD_GLUCOSE_SPECIMEN_SOURCE_INTERSTITIAL_FLUID'},{\"v\":@,\"n\":`2`,\"s\":'BLOOD_GLUCOSE_SPECIMEN_SOURCE_CAPILLARY_BLOOD'},{\"v\":@,\"n\":`3`,\"s\":'BLOOD_GLUCOSE_SPECIMEN_SOURCE_PLASMA'},{\"v\":@,\"n\":`4`,\"s\":'BLOOD_GLUCOSE_SPECIMEN_SOURCE_SERUM'},{\"v\":@,\"n\":`5`,\"s\":'BLOOD_GLUCOSE_SPECIMEN_SOURCE_TEARS'},{\"v\":@,\"n\":`6`,\"s\":'BLOOD_GLUCOSE_SPECIMEN_SOURCE_WHOLE_BLOOD'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          }
        ],
        "typeName": "raw:com.google.blood_glucose:com.google.android.apps.fitness:user_input"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.blood_pressure' && $.Body.dataSourceId =~ /raw/ && $.Body.dataSourceId =~ /com.google.android.apps.fitness/ && $.Body.dataSourceId =~ /user_input/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "blood_pressure_systolic",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          },
          {
            "valueName": "blood_pressure_diastolic",
            "valueExpression": "matchedToken.value[1].fpVal",
            "required": true
          },
          {
            "valueName": "body_position",
            "valueExpression": {
              "value": "matchedToken.value[2].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'BODY_POSITION_STANDING'},{\"v\":@,\"n\":`2`,\"s\":'BODY_POSITION_SITTING'},{\"v\":@,\"n\":`3`,\"s\":'BODY_POSITION_LYING_DOWN'},{\"v\":@,\"n\":`4`,\"s\":'BODY_POSITION_SEMI_RECUMBENT'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "blood_pressure_measurement_location",
            "valueExpression": {
              "value": "matchedToken.value[3].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'BLOOD_PRESSURE_MEASUREMENT_LOCATION_LEFT_WRIST'},{\"v\":@,\"n\":`2`,\"s\":'BLOOD_PRESSURE_MEASUREMENT_LOCATION_RIGHT_WRIST'},{\"v\":@,\"n\":`3`,\"s\":'BLOOD_PRESSURE_MEASUREMENT_LOCATION_LEFT_UPPER_ARM'},{\"v\":@,\"n\":`4`,\"s\":'BLOOD_PRESSURE_MEASUREMENT_LOCATION_RIGHT_UPPER_ARM'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          }
        ],
        "typeName": "raw:com.google.blood_pressure:com.google.android.apps.fitness:user_input"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.body.fat.percentage' && $.Body.dataSourceId =~ /raw/ && $.Body.dataSourceId =~ /com.google.android.apps.fitness/ && $.Body.dataSourceId =~ /user_input/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "percentage",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "raw:com.google.body.fat.percentage:com.google.android.apps.fitness:user_input"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.body.temperature' && $.Body.dataSourceId =~ /raw/ && $.Body.dataSourceId =~ /com.google.android.apps.fitness/ && $.Body.dataSourceId =~ /user_input/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "body_temperature",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          },
          {
            "valueName": "body_temperature_measurement_location",
            "valueExpression": {
              "value": "matchedToken.value[1].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_AXILLARY'},{\"v\":@,\"n\":`2`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_FINGER'},{\"v\":@,\"n\":`3`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_FOREHEAD'},{\"v\":@,\"n\":`4`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_ORAL'},{\"v\":@,\"n\":`5`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_RECTAL'},{\"v\":@,\"n\":`6`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_TEMPORAL_ARTERY'},{\"v\":@,\"n\":`7`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_TOE'},{\"v\":@,\"n\":`8`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_TYMPANIC'},{\"v\":@,\"n\":`9`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_WRIST'},{\"v\":@,\"n\":`10`,\"s\":'BODY_TEMPERATURE_MEASUREMENT_LOCATION_VAGINAL'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          }
        ],
        "typeName": "raw:com.google.body.temperature:com.google.android.apps.fitness:user_input"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.heart_rate.bpm' && $.Body.dataSourceId =~ /raw/ && $.Body.dataSourceId =~ /com.google.android.apps.fitness/ && $.Body.dataSourceId =~ /user_input/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "bpm",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "raw:com.google.heart_rate.bpm:com.google.android.apps.fitness:user_input"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.heart_rate.bpm' && $.Body.dataSourceId =~ /raw/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /appleinc./ && $.Body.dataSourceId =~ /watch/ && $.Body.dataSourceId =~ /from_device/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "bpm",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "raw:com.google.heart_rate.bpm:com.google.android.gms:appleinc.:watch:from_device"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.height' && $.Body.dataSourceId =~ /raw/ && $.Body.dataSourceId =~ /com.google.android.apps.fitness/ && $.Body.dataSourceId =~ /user_input/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "height",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "raw:com.google.height:com.google.android.apps.fitness:user_input"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.oxygen_saturation' && $.Body.dataSourceId =~ /raw/ && $.Body.dataSourceId =~ /com.google.android.apps.fitness/ && $.Body.dataSourceId =~ /user_input/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "oxygen_saturation",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          },
          {
            "valueName": "supplemental_oxygen_flow_rate",
            "valueExpression": "matchedToken.value[1].fpVal",
            "required": true
          },
          {
            "valueName": "oxygen_therapy_administration_mode",
            "valueExpression": {
              "value": "matchedToken.value[2].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'OXYGEN_THERAPY_ADMINISTRATION_MODE_NASAL_CANULA'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "oxygen_saturation_system",
            "valueExpression": {
              "value": "matchedToken.value[3].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'OXYGEN_SATURATION_SYSTEM_PERIPHERAL_CAPILLARY'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          },
          {
            "valueName": "oxygen_saturation_measurement_method",
            "valueExpression": {
              "value": "matchedToken.value[4].intVal | [{\"v\":@,\"n\":`0`,\"s\":'UNSPECIFIED'},{\"v\":@,\"n\":`1`,\"s\":'OXYGEN_SATURATION_MEASUREMENT_METHOD_PULSE_OXIMETRY'}][?v == n].s | @[0]",
              "language": "JmesPath"
            }
          }
        ],
        "typeName": "raw:com.google.oxygen_saturation:com.google.android.apps.fitness:user_input"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.step_count.delta' && $.Body.dataSourceId =~ /raw/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /appleinc./ && $.Body.dataSourceId =~ /iphone/ && $.Body.dataSourceId =~ /derive_step_deltas/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "steps",
            "valueExpression": "matchedToken.value[0].intVal",
            "required": true
          }
        ],
        "typeName": "raw:com.google.step_count.delta:com.google.android.gms:appleinc.:iphone:derive_step_deltas"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.step_count.delta' && $.Body.dataSourceId =~ /raw/ && $.Body.dataSourceId =~ /com.google.android.gms/ && $.Body.dataSourceId =~ /appleinc./ && $.Body.dataSourceId =~ /watch/ && $.Body.dataSourceId =~ /derive_step_deltas/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "steps",
            "valueExpression": "matchedToken.value[0].intVal",
            "required": true
          }
        ],
        "typeName": "raw:com.google.step_count.delta:com.google.android.gms:appleinc.:watch:derive_step_deltas"
      }
    },
    {
      "templateType": "CalculatedContent",
      "template": {
        "typeMatchExpression": "$..[?(@dataTypeName == 'com.google.weight' && $.Body.dataSourceId =~ /raw/ && $.Body.dataSourceId =~ /com.google.android.apps.fitness/ && $.Body.dataSourceId =~ /user_input/)]",
        "deviceIdExpression": "$.Body.deviceIdentifier",
        "patientIdExpression": "$.Body.patientIdentifier",
        "timestampExpression": {
          "value": "fromUnixTimestampMs(ceil(multiply(matchedToken.endTimeNanos, `0.000001`)))",
          "language": "JmesPath"
        },
        "values": [
          {
            "valueName": "weight",
            "valueExpression": "matchedToken.value[0].fpVal",
            "required": true
          }
        ],
        "typeName": "raw:com.google.weight:com.google.android.apps.fitness:user_input"
      }
    }
  ]
}